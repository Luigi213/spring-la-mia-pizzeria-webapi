<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body th:object="${pizza}">
	<h1>Create pizza</h1>
	<form method="POST">
		<div>
			<label>name</label>
			<input type="text" name="name" th:value="*{name}">
			<label style="color: red" th:if="${errors != null && errors.hasFieldErrors('name')}">
				[[ ${errors.getFieldError('name').defaultMessage} ]]
			</label>
		</div>
		<div>
			<label>description</label>
			<input type="text" name="description" th:value="*{description}">
			<label style="color: red" th:if="${errors != null && errors.hasFieldErrors('description')}">
				[[ ${errors.getFieldError('description').defaultMessage} ]]
			</label>
		</div>
		<div>
			<label>urlPhoto</label>
			<input type="text" name="urlPhoto" th:value="*{urlPhoto}">
			<label style="color: red" th:if="${errors != null && errors.hasFieldErrors('urlPhoto')}">
				[[ ${errors.getFieldError('urlPhoto').defaultMessage} ]]
			</label>
		</div>
		<div>
			<label>price</label>
			<input type="number" name="price" th:value="*{price}">
			<label style="color: red" th:if="${errors != null && errors.hasFieldErrors('price')}">
				[[ ${errors.getFieldError('price').defaultMessage} ]]
			</label>
		</div>
		<div 
			th:each="ingrediente : ${ingredientes}"
			th:object="${ingrediente}">
			<input th:id="${'ingrediente-' + ingrediente.id}" th:checked="${pizza.ingredientes.contains(ingrediente)}" th:value="*{id}" type="checkbox" name="ingredientes">
			<label th:for="${'ingrediente-' + ingrediente.id}">[[ *{nomeIngrediente} ]]</label>
		</div>
		<input type="submit" value="update">
	</form>
</body>
</html>